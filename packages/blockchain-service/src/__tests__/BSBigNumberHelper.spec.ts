import { BSBigNumberHelper } from '../helpers/BSBigNumberHelper'

describe('BSBigNumberHelper', () => {
  describe('format', () => {
    it('Should format the numbers with decimals', () => {
      expect(BSBigNumberHelper.format(1, { decimals: 24 })).toBe('1')
      expect(BSBigNumberHelper.format(1.23, { decimals: 24 })).toBe('1.23')
      expect(BSBigNumberHelper.format(0.31, { decimals: 24 })).toBe('0.31')
      expect(BSBigNumberHelper.format(0.0031, { decimals: 24 })).toBe('0.0031')
      expect(BSBigNumberHelper.format(0.888, { decimals: 24 })).toBe('0.888')
      expect(BSBigNumberHelper.format(0.0000005, { decimals: 24 })).toBe('0.0000005')
      expect(BSBigNumberHelper.format('51.6560056', { decimals: 24 })).toBe('51.6560056')
      expect(BSBigNumberHelper.format('000.2323230000', { decimals: 24 })).toBe('0.232323')
      expect(BSBigNumberHelper.format('003451.44444400', { decimals: 24 })).toBe('3451.444444')
      expect(
        BSBigNumberHelper.format('00345.1.44444400000000000000000000000000000000000000000', { decimals: 24 })
      ).toBe('345.1444444')
      expect(
        BSBigNumberHelper.format('00345.1.44444400000000000000000000000000000000000000020', { decimals: 24 })
      ).toBe('345.1444444')
      expect(
        BSBigNumberHelper.format('00345.1.44444400000200000000000000000000000000000000020', { decimals: 24 })
      ).toBe('345.1444444000002')
      expect(BSBigNumberHelper.format('00345.1.1444444000000000000000210000000000000000020', { decimals: 24 })).toBe(
        '345.114444440000000000000002'
      )
      expect(BSBigNumberHelper.format('23,2323,2323000', { decimals: 24 })).toBe('23.23232323')
      expect(BSBigNumberHelper.format('00.1', { decimals: 24 })).toBe('0.1')
      expect(BSBigNumberHelper.format('.1', { decimals: 24 })).toBe('0.1')
      expect(BSBigNumberHelper.format('231.', { decimals: 24 })).toBe('231')
      expect(BSBigNumberHelper.format('.1.', { decimals: 24 })).toBe('0.1')
      expect(BSBigNumberHelper.format('4', { decimals: 24 })).toBe('4')
      expect(BSBigNumberHelper.format('12asdasd312', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format(0, { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('.', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('2.2', { decimals: 24 })).toBe('2.2')
      expect(BSBigNumberHelper.format('.0', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('0.', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('1.', { decimals: 24 })).toBe('1')
      expect(BSBigNumberHelper.format('00023.002323000000', { decimals: 24 })).toBe('23.002323')
      expect(BSBigNumberHelper.format(undefined, { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format(',', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format(NaN, { decimals: 24 })).toBe('0')

      expect(BSBigNumberHelper.format(-1, { decimals: 24 })).toBe('-1')
      expect(BSBigNumberHelper.format(-1.23, { decimals: 24 })).toBe('-1.23')
      expect(BSBigNumberHelper.format(-0.31, { decimals: 24 })).toBe('-0.31')
      expect(BSBigNumberHelper.format(-0.0031, { decimals: 24 })).toBe('-0.0031')
      expect(BSBigNumberHelper.format(-0.888, { decimals: 24 })).toBe('-0.888')
      expect(BSBigNumberHelper.format(-0.0000005, { decimals: 24 })).toBe('-0.0000005')
      expect(BSBigNumberHelper.format('-51.6560056', { decimals: 24 })).toBe('-51.6560056')
      expect(BSBigNumberHelper.format('-000.2323230000', { decimals: 24 })).toBe('-0.232323')
      expect(BSBigNumberHelper.format('-003451.44444400', { decimals: 24 })).toBe('-3451.444444')
      expect(
        BSBigNumberHelper.format('-00345.1.44444400000000000000000000000000000000000000000', { decimals: 24 })
      ).toBe('-345.1444444')
      expect(
        BSBigNumberHelper.format('-00345.1.44444400000000000000000000000000000000000000020', { decimals: 24 })
      ).toBe('-345.1444444')
      expect(
        BSBigNumberHelper.format('-00345.1.44444400000200000000000000000000000000000000020', { decimals: 24 })
      ).toBe('-345.1444444000002')
      expect(BSBigNumberHelper.format('-00345.1.1444444000000000000000210000000000000000020', { decimals: 24 })).toBe(
        '-345.114444440000000000000002'
      )
      expect(BSBigNumberHelper.format('-23,2323,2323000', { decimals: 24 })).toBe('-23.23232323')
      expect(BSBigNumberHelper.format('-00.1', { decimals: 24 })).toBe('-0.1')
      expect(BSBigNumberHelper.format('-.1', { decimals: 24 })).toBe('-0.1')
      expect(BSBigNumberHelper.format('-231.', { decimals: 24 })).toBe('-231')
      expect(BSBigNumberHelper.format('-.1.', { decimals: 24 })).toBe('-0.1')
      expect(BSBigNumberHelper.format('-4', { decimals: 24 })).toBe('-4')
      expect(BSBigNumberHelper.format('-12asdasd312', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('-', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format(-0, { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('-.', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('-2.2', { decimals: 24 })).toBe('-2.2')
      expect(BSBigNumberHelper.format('-.0', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('-0.', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('-1.', { decimals: 24 })).toBe('-1')
      expect(BSBigNumberHelper.format('-00023.002323000000', { decimals: 24 })).toBe('-23.002323')
      expect(BSBigNumberHelper.format(undefined, { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format('-,', { decimals: 24 })).toBe('0')
      expect(BSBigNumberHelper.format(NaN, { decimals: 24 })).toBe('0')
    })

    it('Should format the numbers without decimals', () => {
      expect(BSBigNumberHelper.format(1)).toBe('1')
      expect(BSBigNumberHelper.format(1.23)).toBe('1')
      expect(BSBigNumberHelper.format(0.31)).toBe('0')
      expect(BSBigNumberHelper.format(0.0031)).toBe('0')
      expect(BSBigNumberHelper.format(0.888)).toBe('0')
      expect(BSBigNumberHelper.format(0.0000005)).toBe('0')
      expect(BSBigNumberHelper.format('51.6560056')).toBe('51')
      expect(BSBigNumberHelper.format('000.2323230000')).toBe('0')
      expect(BSBigNumberHelper.format('003451.44444400')).toBe('3451')
      expect(BSBigNumberHelper.format('00345.1.44444400000000000000000000000000000000000000000')).toBe('345')
      expect(BSBigNumberHelper.format('00345.1.44444400000000000000000000000000000000000000020')).toBe('345')
      expect(BSBigNumberHelper.format('00345.1.44444400000200000000000000000000000000000000020')).toBe('345')
      expect(BSBigNumberHelper.format('00345.1.1444444000000000000000210000000000000000020')).toBe('345')
      expect(BSBigNumberHelper.format('23,2323,2323000')).toBe('23')
      expect(BSBigNumberHelper.format('00.1')).toBe('0')
      expect(BSBigNumberHelper.format('.1')).toBe('0')
      expect(BSBigNumberHelper.format('231.')).toBe('231')
      expect(BSBigNumberHelper.format('.1.')).toBe('0')
      expect(BSBigNumberHelper.format('4')).toBe('4')
      expect(BSBigNumberHelper.format('12asdasd312')).toBe('0')
      expect(BSBigNumberHelper.format('')).toBe('0')
      expect(BSBigNumberHelper.format(0)).toBe('0')
      expect(BSBigNumberHelper.format('.')).toBe('0')
      expect(BSBigNumberHelper.format('2.2')).toBe('2')
      expect(BSBigNumberHelper.format('.0')).toBe('0')
      expect(BSBigNumberHelper.format('0.')).toBe('0')
      expect(BSBigNumberHelper.format('1.')).toBe('1')
      expect(BSBigNumberHelper.format('00023.002323000000')).toBe('23')
      expect(BSBigNumberHelper.format(undefined)).toBe('0')
      expect(BSBigNumberHelper.format(',')).toBe('0')
      expect(BSBigNumberHelper.format(NaN)).toBe('0')

      expect(BSBigNumberHelper.format(-1)).toBe('-1')
      expect(BSBigNumberHelper.format(-1.23)).toBe('-1')
      expect(BSBigNumberHelper.format(-0.31)).toBe('0')
      expect(BSBigNumberHelper.format(-0.0031)).toBe('0')
      expect(BSBigNumberHelper.format(-0.888)).toBe('0')
      expect(BSBigNumberHelper.format(-0.0000005)).toBe('0')
      expect(BSBigNumberHelper.format('-51.6560056')).toBe('-51')
      expect(BSBigNumberHelper.format('-000.2323230000')).toBe('0')
      expect(BSBigNumberHelper.format('-003451.44444400')).toBe('-3451')
      expect(BSBigNumberHelper.format('-00345.1.44444400000000000000000000000000000000000000000')).toBe('-345')
      expect(BSBigNumberHelper.format('-00345.1.44444400000000000000000000000000000000000000020')).toBe('-345')
      expect(BSBigNumberHelper.format('-00345.1.44444400000200000000000000000000000000000000020')).toBe('-345')
      expect(BSBigNumberHelper.format('-00345.1.1444444000000000000000210000000000000000020')).toBe('-345')
      expect(BSBigNumberHelper.format('-23,2323,2323000')).toBe('-23')
      expect(BSBigNumberHelper.format('-00.1')).toBe('0')
      expect(BSBigNumberHelper.format('-.1')).toBe('0')
      expect(BSBigNumberHelper.format('-231.')).toBe('-231')
      expect(BSBigNumberHelper.format('-.1.')).toBe('0')
      expect(BSBigNumberHelper.format('-4')).toBe('-4')
      expect(BSBigNumberHelper.format('-12asdasd312')).toBe('0')
      expect(BSBigNumberHelper.format('-')).toBe('0')
      expect(BSBigNumberHelper.format(-0)).toBe('0')
      expect(BSBigNumberHelper.format('-.')).toBe('0')
      expect(BSBigNumberHelper.format('-2.2')).toBe('-2')
      expect(BSBigNumberHelper.format('-.0')).toBe('0')
      expect(BSBigNumberHelper.format('-0.')).toBe('0')
      expect(BSBigNumberHelper.format('-1.')).toBe('-1')
      expect(BSBigNumberHelper.format('-00023.002323000000')).toBe('-23')
      expect(BSBigNumberHelper.format(undefined)).toBe('0')
      expect(BSBigNumberHelper.format('-,')).toBe('0')
      expect(BSBigNumberHelper.format(NaN)).toBe('0')
    })
  })
})
